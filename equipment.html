<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Team</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/common/reset.css" type="text/css" >
    <link rel="stylesheet" href="css/common/common.css" type="text/css" >
    <link rel="stylesheet" href="css/views/equipment.css" type="text/css">
    <link rel="stylesheet" href="css/plugins/viewer.css" type="text/css">
</head>
<body>
<div class="container">
    <!--头部-->
    <div class=" logo">
        <img src="imgs/views/header.png">
    </div>
    <!--导航栏-->
    <div class=" navigation">
        <div class="row">
            <div class="col nav">
                <ul class="docNav">
                    <li><a href="home.html" title="首页">首页</a></li>
                    <li><a href="teammember.html" title="团队成员">团队成员</a></li>
                    <li><a href="research.html" title="科研成果">科研成果</a></li>
                    <li class="on"><a href="equipment.html" title="实验设备">实验设备</a></li>
                    <li><a href="lifephoto.html" title="生活合影">生活合影</a></li>
                    <li><a href="overview.html" title="研究概览">研究概览</a></li>
                    <li><a href="recruitment.html" title="招生招聘">招生招聘</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!--内容-->
    <div class=" main">
        <div class="contentBox">
            <div class="content-nav">
                <ul class="iframeNav">
                    <li><a class="one">生产设备</a></li>
                    <li><a class="two">实验设备</a></li>
                </ul>
            </div>
            <div class="content-text">

                <!--生产设备-->
                <div class="memberBox">
                    <div class="title">生产设备</div>
                        <div id="galley">
                            <ul class="pictures play">
                                <li><img data-original="./imgs/views/equipment/tibet-1.jpg" src="./imgs/views/equipment/tibet-1.jpg" alt="设备1"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-2.jpg" src="./imgs/views/equipment/tibet-2.jpg" alt="设备2"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-3.jpg" src="./imgs/views/equipment/tibet-3.jpg" alt="设备3"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-4.jpg" src="./imgs/views/equipment/tibet-4.jpg" alt="设备4"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-5.jpg" src="./imgs/views/equipment/tibet-5.jpg" alt="设备5"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-6.jpg" src="./imgs/views/equipment/tibet-6.jpg" alt="设备6"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-7.jpg" src="./imgs/views/equipment/tibet-7.jpg" alt="设备7"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-8.jpg" src="./imgs/views/equipment/tibet-8.jpg" alt="设备8"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-9.jpg" src="./imgs/views/equipment/tibet-9.jpg" alt="设备9"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-4.jpg" src="./imgs/views/equipment/tibet-4.jpg" alt="设备4"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-5.jpg" src="./imgs/views/equipment/tibet-5.jpg" alt="设备5"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-6.jpg" src="./imgs/views/equipment/tibet-6.jpg" alt="设备6"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-7.jpg" src="./imgs/views/equipment/tibet-7.jpg" alt="设备7"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-8.jpg" src="./imgs/views/equipment/tibet-8.jpg" alt="设备8"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-9.jpg" src="./imgs/views/equipment/tibet-9.jpg" alt="设备9"></li>
                            </ul>
                        </div>

                        <!--list-->
                        <div class="picturesList" style="display: none">
                            <!--生产设备-->
                            <ul class="pictures one">
                                <li><img data-original="./imgs/views/equipment/tibet-1.jpg" src="./imgs/views/equipment/tibet-1.jpg" alt="设备1"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-2.jpg" src="./imgs/views/equipment/tibet-2.jpg" alt="设备2"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-3.jpg" src="./imgs/views/equipment/tibet-3.jpg" alt="设备3"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-4.jpg" src="./imgs/views/equipment/tibet-4.jpg" alt="设备4"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-5.jpg" src="./imgs/views/equipment/tibet-5.jpg" alt="设备5"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-6.jpg" src="./imgs/views/equipment/tibet-6.jpg" alt="设备6"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-7.jpg" src="./imgs/views/equipment/tibet-7.jpg" alt="设备7"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-8.jpg" src="./imgs/views/equipment/tibet-8.jpg" alt="设备8"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-9.jpg" src="./imgs/views/equipment/tibet-9.jpg" alt="设备9"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-4.jpg" src="./imgs/views/equipment/tibet-4.jpg" alt="设备4"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-5.jpg" src="./imgs/views/equipment/tibet-5.jpg" alt="设备5"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-6.jpg" src="./imgs/views/equipment/tibet-6.jpg" alt="设备6"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-7.jpg" src="./imgs/views/equipment/tibet-7.jpg" alt="设备7"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-8.jpg" src="./imgs/views/equipment/tibet-8.jpg" alt="设备8"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-9.jpg" src="./imgs/views/equipment/tibet-9.jpg" alt="设备9"></li>
                            </ul>

                            <!--实验设备-->
                            <ul class="pictures two">
                                <li><img data-original="./imgs/views/equipment/tibet-1.jpg" src="./imgs/views/equipment/tibet-1.jpg" alt="设备1"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-1.jpg" src="./imgs/views/equipment/tibet-1.jpg" alt="设备1"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-1.jpg" src="./imgs/views/equipment/tibet-1.jpg" alt="设备1"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-1.jpg" src="./imgs/views/equipment/tibet-1.jpg" alt="设备1"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-1.jpg" src="./imgs/views/equipment/tibet-1.jpg" alt="设备1"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-1.jpg" src="./imgs/views/equipment/tibet-1.jpg" alt="设备1"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-1.jpg" src="./imgs/views/equipment/tibet-1.jpg" alt="设备1"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-1.jpg" src="./imgs/views/equipment/tibet-1.jpg" alt="设备1"></li>
                                <li><img data-original="./imgs/views/equipment/tibet-1.jpg" src="./imgs/views/equipment/tibet-1.jpg" alt="设备1"></li>
                            </ul>
                        </div>
                </div>

            </div>
        </div>
    </div>
    <!--底部-->
    <div id="footer">
        Copyright © 2014-2018 桥梁建造实验室
    </div>
</div>

<!--<script src="./js/plugins/jquery.min.js" type="text/javascript"></script>-->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="./js/plugins/viewer.js"></script>
<script>
    function firstIframe() {
        var el = document.getElementsByClassName('content-nav');
        var ul = el[0].children;
        ul[0].children[0].className = 'now';
        ul[0].children[0].click();
    }
    function picturesMargin() {
        var galleyWidth = document.getElementById("galley").offsetWidth;
        var pictures = document.getElementsByClassName("pictures")[0];
        var picturesWidth = pictures.offsetWidth;
        var marginLeft = (galleyWidth - picturesWidth)/2;
        pictures.style.marginLeft = marginLeft + 'px';
    }
    function newViewer() {

        var galley = document.getElementById('galley');
        if(galley.hasOwnProperty('viewer')){
            delete galley.viewer
        }
        var viewer = new Viewer(galley, {
            url: 'data-original',
            toolbar: {
                zoomIn: true,
                zoomOut: true,
                oneToOne: false,
                reset: true,
                prev: true,
                play: true,
                next: true,
                rotateLeft: true,
                rotateRight: true,
                download: function() {
                    const a = document.createElement('a');
                    a.href = viewer.image.src;
                    a.download = viewer.image.alt;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                },
            }
        });
        console.log("------------")
    }
    window.addEventListener('DOMContentLoaded', function () {
        picturesMargin(); //图片居中
        newViewer();
    });
    $(function () {
        firstIframe();

        $(".docNav > li").click(function(){
            $(this).addClass("on").siblings().removeClass("on");

        });

        $(".iframeNav > li").click(function(){
            $(this).addClass("now").siblings().removeClass("now");
            var now = this.children[0]; //a

            /*设置title*/
            var title = now.innerText;
            document.getElementsByClassName('title')[0].innerText = title;

            /*切换图片*/
            var className = now.className; //one two...
            var ulAll = document.getElementsByClassName('pictures');
            var ulPlay = document.getElementsByClassName('play')[0];
            for(var i=0; i<ulAll.length; i++){
                if(ulAll[i].className.indexOf(className) > -1){ //找到title对应的pictures
                    ulPlay.innerHTML = '';
                    ulPlay.innerHTML = ulAll[i].innerHTML;
                    break;
                }
            }
            newViewer();
        });
    })
</script>
</body>
</html>