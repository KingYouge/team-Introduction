<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Team</title>
    <link rel="stylesheet" href="css/common/reset.css" type="text/css" >
    <link rel="stylesheet" href="css/common/common.css" type="text/css" >
    <link rel="stylesheet" href="css/views/lifephoto.css" type="text/css" >
    <script src="./js/plugins/jquery.min.js" type="text/javascript"></script>
    <script src="./js/plugins/jquery.SuperSlide.2.1.1.js" type="text/javascript"></script>
</head>
<body>
<div class="container">
    <!--头部-->
    <div class=" logo">
        <img src="imgs/views/header.png">
    </div>
    <!--导航栏-->
    <div class=" navigation">
        <div class="row">
            <div class="col nav">
                <ul>
                    <li><a href="home.html" title="首页">首页</a></li>
                    <li><a href="teammember.html" title="团队成员">团队成员</a></li>
                    <li><a href="research.html" title="科研成果">科研成果</a></li>
                    <li><a href="equipment.html" title="实验设备">实验设备</a></li>
                    <li><a href="lifephoto.html" title="生活合影">生活合影</a></li>
                    <li><a href="overview.html" title="研究概览">研究概览</a></li>
                    <li><a href="recruitment.html" title="招生招聘">招生招聘</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!--内容-->
    <div class=" main">
        <!--<div class="contentBox">
            <div class="content-nav">
                表示固定在左侧	string, boolean	true, left, right	—
                lse, 'custom'	false
                sort-method	对数据进行排序的时候使用的方法，仅当 sortable 设置为 true 的时候有效，需返回一个布尔值
            </div>
            <div class="content-text">
                表示固定在左侧	string, boolean	true, left, right	—
                render-header	列标题 Label 区域渲染使用的 Function	Function(h, { column, $index })	—	—
                sortable	对应列是否可以排序，如果设置为 'custom'，则代表用户希望远程排序，需要监听 Table 的 sort-change 事件	boolean, string	true, false, 'custom'	false
                sort-method	对数据进行排序的时候使用的方法，仅当 sortable 设置为 true 的时候有效，需返回一个布尔值
            </div>
        </div>-->
        <div id="play">
            <ul class="img_ul">
                <li style="display:block;"><a class="img_a"><img src="imgs/views/lifephoto/1.jpg"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/2.jpg"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/3.jpg"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/4.jpg"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/5.jpg"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/6.jpg"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/7.jpg"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/8.jpg"></a></li>
            </ul>
            <a href="javascript:void(0)" class="prev_a change_a" title="上一张"> <span></span></a>
            <a href="javascript:void(0)" class="next_a change_a" title="下一张"> <span style="display: inline; "></span> </a>
        </div>

        <div class="img_hd">
            <ul class=" clearfix">
                <li><a class="img_a"><img src="imgs/views/lifephoto/1.jpg" onload="imgs_load(this)"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/2.jpg" onload="imgs_load(this)"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/3.jpg" onload="imgs_load(this)"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/4.jpg" onload="imgs_load(this)"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/5.jpg" onload="imgs_load(this)"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/6.jpg" onload="imgs_load(this)"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/7.jpg" onload="imgs_load(this)"></a></li>
                <li><a class="img_a"><img src="imgs/views/lifephoto/8.jpg" onload="imgs_load(this)"></a></li>
            </ul>
            <a class="bottom_a prev_a" style="opacity: 0.7; "></a> <a class="bottom_a next_a" style="opacity: 0.7; "></a> </div>

    </div>
    <!--底部-->
    <div id="footer">
        Copyright © 2014-2018 桥梁建造实验室
    </div>
</div>
<script>
    var i=0; //图片标识
    var img_num=$(".img_ul").children("li").length; //图片个数
    $(".img_ul li").hide(); //初始化图片
    play();
    $(function(){
        $(".img_hd ul").css("width",($(".img_hd ul li").outerWidth(true))*img_num); //设置ul的长度

        $(".bottom_a").css("opacity",0.7);	//初始化底部a透明度
        //$("#play").css("height",$("#play .img_ul").height());
        if (!window.XMLHttpRequest) {//对ie6设置a的位置
            $(".change_a").css("height",$(".change_a").parent().height());}
        $(".change_a").focus( function() { this.blur(); } );
        $(".bottom_a").hover(function(){//底部a经过事件
            $(this).css("opacity",1);
        },function(){
            $(this).css("opacity",0.7);
        });
        $(".change_a").hover(function(){//箭头显示事件
            $(this).children("span").show();
        },function(){
            $(this).children("span").hide();
        });
        $(".img_hd ul li").click(function(){
            i=$(this).index();
            play();
        });
        $(".prev_a").click(function(){
            //i+=img_num;
            i--;
            //i=i%img_num;
            i=(i<0?0:i);
            play();
        });
        $(".next_a").click(function(){
            i++;
            //i=i%img_num;
            i=(i>(img_num-1)?(img_num-1):i);
            play();
        });
    });
    function play(){//动画移动
        var img=new Image(); //图片预加载
        img.onload=function(){img_load(img,$(".img_ul").children("li").eq(i).find("img"))};
        img.src=$(".img_ul").children("li").eq(i).find("img").attr("src");
        //$(".img_ul").children("li").eq(i).find("imgs").(img_load($(".img_ul").children("li").eq(i).find("imgs")));

        $(".img_hd ul").children("li").eq(i).addClass("on").siblings().removeClass("on");
        if(img_num>7){//大于7个的时候进行移动
            if(i<img_num-3){ //前3个
                $(".img_hd ul").animate({"marginLeft":(-($(".img_hd ul li").outerWidth()+4)*(i-3<0?0:(i-3)))});
            }
            else if(i>=img_num-3){//后3个
                $(".img_hd ul").animate({"marginLeft":(-($(".img_hd ul li").outerWidth()+4)*(img_num-7))});
            }
        }
        if (!window.XMLHttpRequest) {//对ie6设置a的位置
            $(".change_a").css("height",$(".change_a").parent().height());}
    }
    function img_load(img_id,now_imgid){//大图片加载设置 （img_id 新建的img,now_imgid当前图片）

        if(img_id.width/img_id.height>1)
        {
            if(img_id.width >=$("#play").width()) $(now_imgid).width($("#play").width());
        }
        else {
            if(img_id.height>=500) $(now_imgid).height(500);
        }
        $(".img_ul").children("li").eq(i).show().siblings("li").hide(); //大小确定后进行显示
    }
    function imgs_load(img_id){//小图片加载设置
        if(img_id.width >=$(".img_hd ul li").width()){img_id.width = 80};
        //if(img_id.height>=$(".img_hd ul li").height()) {img_id.height=$(".img_hd ul li").height();}
    }
</script>
</body>
</html>